!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.MpSdk=t():e.MpSdk=t()}(self,(function(){return(()=>{"use strict";var e={d:(t,o)=>{for(var r in o)e.o(o,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:o[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{default:()=>n,setupSdk:()=>r});const o=e=>"string"==typeof e?document.querySelector(e):e,r=async(e,t={})=>{var r,n,a,i,s;const{connectOptions:c=[],container:d,domain:l="my.matterport.com",iframe:u,iframeAttributes:m={},iframeQueryParams:p=new URLSearchParams,space:f="SxQL3iGyoDo"}=t;let y=o(u);if(!e)throw new Error("sdkKey required to use the SDK.");for(await new Promise(((e,t)=>{const o=document.createElement("script");o.onload=e,o.onerror=t,o.setAttribute("src","https://static.matterport.com/showcase-sdk/latest.js"),document.head.append(o)}));!window.MP_SDK;)await new Promise(requestAnimationFrame);if(!y){y=document.createElement("iframe");const t={frameborder:"0",allow:"fullscreen; xr-spatial-tracking",id:"mp-showcase",width:d?"100%":"853px",height:d?"100%":"480px"},n=Object.assign(Object.assign({},t),m);for(const e in n)y.setAttribute(e,n[e]);const a={m:f,play:"1",applicationKey:e},i=p instanceof URLSearchParams?p:new URLSearchParams(Object.entries(p).map((([e,t])=>[e,t.toString()])));Object.keys(a).forEach((e=>{i.has(e)||i.set(e,a[e])}));const s=l.replace(/^(?:[^:]*\:\/\/|\/\/)/gm,"");y.setAttribute("src",`//${s}/show?${i.toString()}`);(null!==(r=o(d))&&void 0!==r?r:document.body).appendChild(y)}const h=null!==(n=null==c?void 0:c[0])&&void 0!==n?n:y;try{return await window.MP_SDK.connect(h,e,"")}catch(e){throw(null===(s=null===(a=e.toString)||void 0===a?void 0:(i=a.call(e)).includes)||void 0===s?void 0:s.call(i,"key/referrer mismatch"))&&(e=`Incorrect SDK key. Did you:\n\t(a) set up your key using the instructions at https://matterport.github.io/showcase-sdk/sdk_home.html#installation and\n\t(b) add ${window.location.host} to the allowed domains?\n\n${e}`),new Error(e)}},n=r;return t})()}));